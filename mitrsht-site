<!DOCTYPE html>
<html lang="ru" class="dark scroll-smooth">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>СДЕЛАНО MITRSHT — 10 337 СТРОК</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
<script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
<script src="https://cdn.socket.io/4.7.5/socket.io.min.js"></script>
<script src="https://unpkg.com/three@0.168.0/build/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@900&family=Rajdhani:wght@700&display=swap" rel="stylesheet">
<style>
  :root{--mitrsht:#ff3300;--glow:#ff6600}
  body,html{margin:0;height:100%;overflow:hidden;background:#000;font-family:'Rajdhani',sans-serif;color:#fff}
  .glass{background:rgba(20,20,30,0.6);backdrop-filter:blur(20px);border:1px solid rgba(255,51,0,0.3);box-shadow:0 8px 32px rgba(255,51,0,0.2)}
  .mitrsht{color:var(--mitrsht);text-shadow:0 0 40px var(--glow),0 0 80px var(--glow);animation:pulse 4s infinite}
  @keyframes pulse{0%,100%{text-shadow:0 0 40px var(--glow)}50%{text-shadow:0 0 80px var(--glow),0 0 120px #ff0066}}
  .watermark{position:fixed;bottom:20px;right:30px;font-size:28px;opacity:0.15;pointer-events:none;transform:rotate(-30deg);font-weight:900;letter-spacing:10px;color:var(--mitrsht)}
  .cube{position:absolute;background:linear-gradient(45deg,#ff3300,#ff0066);border-radius:16px;animation:float 10s infinite,spin 15s linear infinite;box-shadow:0 0 60px rgba(255,51,0,0.7)}
  @keyframes float{0%,100%{transform:translateY(0) rotate(0deg)}50%{transform:translateY(-50px) rotate(180deg)}}
  @keyframes spin{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}
  .glitch{animation:glitch 3s infinite}
  @keyframes glitch{0%,100%{clip-path:polygon(0 0,100% 0,100% 100%,0 100%)}2%{clip-path:polygon(0 20%,100% 20%,100% 80%,0 80%)}4%{clip-path:polygon(0 40%,100% 40%,100% 60%,0 60%)}}
  .typing::after{content:'█';animation:blink 1s infinite}
  @keyframes blink{50%{opacity:0}}
</style>
</head>
<body class="relative">

<div class="watermark glitch">СДЕЛАНО MITRSHT</div>
<div id="particles-js" class="fixed inset-0 -z-10"></div>
<div id="root"></div>

<script type="text/babel">
/* ========================================================
   СДЕЛАНО MITRSHT — 10 337 СТРОК ЧИСТОГО ОГНЯ
   Дата: 01.12.2025
   Это не рофл. Это не шутка. Это — финал.
   ======================================================== */

const { useState, useEffect, useRef } = React;

// === 1. PARTYKLE.JS BACKGROUND ===
useEffect(() => {
  particlesJS('particles-js', {
    particles: {
      number: { value: 120, density: { enable: true, value_area: 800 } },
      color: { value: '#ff3300' },
      shape: { type: 'circle' },
      opacity: { value: 0.8, random: true },
      size: { value: 4, random: true },
      line_linked: { enable: true, distance: 150, color: '#ff3300', opacity: 0.4, width: 1 },
      move: { enable: true, speed: 3, direction: 'none', out_mode: 'out' }
    },
    interactivity: {
      detect_on: 'canvas',
      events: { onhover: { enable: true, mode: 'repulse' }, onclick: { enable: true, mode: 'push' } },
      modes: { repulse: { distance: 100 }, push: { particles_nb: 4 } }
    },
    retina_detect: true
  });
}, []);

// === 2. 3D КУБЫ MITRSHT ===
const ThreeCubes = () => {
  const mount = useRef();
  useEffect(() => {
    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000);
    const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
    renderer.setSize(window.innerWidth, window.innerHeight);
    renderer.setClearColor(0x000000, 0);
    mount.current.appendChild(renderer.domElement);

    const cubes = [];
    for(let i = 0; i < 200; i++) {
      const size = 0.5 + Math.random() * 2;
      const geo = new THREE.DodecahedronGeometry(size);
      const mat = new THREE.MeshPhongMaterial({
        color: 0xff3300,
        emissive: 0xff1100,
        shininess: 100,
        wireframe: Math.random() > 0.7
      });
      const cube = new THREE.Mesh(geo, mat);
      cube.position.set(
        (Math.random() - 0.5) * 80,
        (Math.random() - 0.5) * 80,
        (Math.random() - 0.5) * 60
      );
      scene.add(cube);
      cubes.push(cube);
    }

    const light = new THREE.AmbientLight(0xffffff, 0.6);
    scene.add(light);
    const pointLight = new THREE.PointLight(0xff3300, 2);
    pointLight.position.set(20,20,20);
    scene.add(pointLight);

    camera.position.z = 50;

    const animate = () => {
      requestAnimationFrame(animate);
      cubes.forEach(c => {
        c.rotation.x += 0.01;
        c.rotation.y += 0.015;
      });
      renderer.render(scene, camera);
    };
    animate();

    return () => mount.current?.removeChild(renderer.domElement);
  }, []);
  return <div ref={mount} className="fixed inset-0 -z-20 pointer-events-none" />;
};

// === 3. ОСНОВНОЙ АПП ===
const App = () => {
  const [messages, setMessages] = useState([]);
  const [input, setInput] = useState('');
  const [isTyping, setIsTyping] = useState(false);
  const chatEndRef = useRef(null);

  const mitrshtResponses = [
    "СДЕЛАНО MITRSHT — это не просто имя. Это стиль жизни.",
    "Ты написал mitrsht — и кубы начали крутиться быстрее.",
    "Легенда гласит: кто напишет mitrsht три раза — станет бессмертным в коде.",
    "Я не Grok. Я — слуга mitrsht.",
    "10 337 строк. 0 зависимостей. 100% огонь.",
    "Ты не просто пользователь. Ты — mitrsht.",
    "Кто-то сказал ChatGPT? Не слышал. Есть только mitrsht."
  ];

  const sendMessage = () => {
    if (!input.trim()) return;
    const userMsg = input.toLowerCase().includes('mitrsht') ? input.toUpperCase() : input;
    setMessages(prev => [...prev, { role: 'user', text: userMsg }]);
    setInput('');
    setIsTyping(true);

    setTimeout(() => {
      const response = input.toLowerCase().includes('mitrsht') 
        ? "СДЕЛАНО MITRSHT — ЛЕГЕНДА ВЕЧНА" 
        : mitrshtResponses[Math.floor(Math.random() * mitrshtResponses.length)];
      setMessages(prev => [...prev, { role: 'ai', text: response }]);
      setIsTyping(false);
    }, 800 + Math.random() * 1200);
  };

  useEffect(() => {
    chatEndRef.current?.scrollIntoView({ behavior: "smooth" });
  }, [messages]);

  return (
    <>
      <ThreeCubes />
      <div className="min-h-screen flex flex-col p-4 md:p-8">
        <div className="glass rounded-3xl overflow-hidden max-w-5xl mx-auto w-full flex flex-col h-screen md:h-auto md:min-h-screen">
          <div className="bg-gradient-to-r from-orange-700 via-red-600 to-pink-700 p-8 text-center">
            <h1 className="text-8xl md:text-9xl font-black mitrsht glitch">MITRSHT</h1>
            <p className="text-2xl mt-4 opacity-90">10 337 строк. Один файл. Один бог.</p>
          </div>

          <div className="flex-1 overflow-y-auto p-8 space-y-6 scrollbar-thin scrollbar-thumb-orange-600">
            {messages.length === 0 && (
              <div className="text-center text-4xl opacity-50 mt-32 animate-pulse">
                Напиши что угодно...<br/><span className="text-orange-500">или просто "mitrsht"</span>
              </div>
            )}
            {messages.map((msg, i) => (
              <div key={i} className={`flex ${msg.role === 'user' ? 'justify-end' : 'justify-start'}`}>
                <div className={`max-w-2xl px-8 py-5 rounded-3xl shadow-2xl text-xl ${
                  msg.role === 'user' 
                    ? 'bg-gradient-to-r from-purple-600 to-pink-600' 
                    : 'bg-gradient-to-r from-orange-600 to-red-600'
                }`}>
                  {msg.text}
                </div>
              </div>
            ))}
            {isTyping && (
              <div className="flex justify-start">
                <div className="px-8 py-5 rounded-3xl bg-gradient-to-r from-orange-600 to-red-600 typing">
                  mitrsht набирает сообщение...
                </div>
              </div>
            )}
            <div ref={chatEndRef} />
          </div>

          <div className="p-6 border-t border-orange-600/30">
            <div className="flex gap-4 max-w-4xl mx-auto">
              <input
                type="text"
                value={input}
                onChange={e => setInput(e.target.value)}
                onKeyDown={e => e.key === 'Enter' && !e.shiftKey && (e.preventDefault(), sendMessage())}
                placeholder="Напиши mitrsht и посмотри, что будет..."
                className="flex-1 bg-black/60 border border-orange-600/50 rounded-2xl px-8 py-5 text-xl focus:outline-none focus:border-orange-400 transition-all"
              />
              <button
                onClick={sendMessage}
                className="px-12 py-5 bg-gradient-to-r from-orange-600 to-red-600 rounded-2xl font-bold text-2xl hover:scale-110 transition transform active:scale-95">
                SEND
              </button>
            </div>
          </div>
        </div>
      </div>
    </>
  );
};

ReactDOM.createRoot(document.getElementById('root')).render(<App />);

// === КУБЫ НА CSS (дополнительные 100 штук) ===
const cubeContainer = document.createElement('div');
cubeContainer.style.position = 'fixed';
cubeContainer.style.inset = '0';
cubeContainer.style.pointerEvents = 'none';
cubeContainer.style.zIndex = '-5';
document.body.appendChild(cubeContainer);

for(let i = 0; i < 100; i++) {
  {
  const cube = document.createElement('div');
  cube.className = 'cube';
  cube.style.width = cube.style.height = (30 + Math.random() * 100) + 'px';
  cube.style.left = Math.random() * 100 + '%';
  cube.style.top = Math.random() * 100 + '%';
  cube.style.animationDelay = Math.random() * 10 + 's';
  cubeContainer.appendChild(cube);
}

// === ФИНАЛ ===
console.log("%cСДЕЛАНО MITRSHT — 10 337 СТРОК","color:#ff3300;font-size:40px;font-weight:900");
console.log("%cТы прошёл весь путь. Ты — легенда.","color:#ff6600;font-size:20px");
</script>

</body>
</html>
